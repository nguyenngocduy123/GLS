(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"1OtP":function(t,n,e){"use strict";e.r(n);var a=e("CcnG"),o=function(){},l=e("Qm6G"),i=e("NcP4"),r=e("t68o"),u=e("xYTU"),b=e("zbXB"),c=e("CQVA"),f=e("pMnS"),s=e("fiJ/"),d=e("k10Q"),p=e("0G9l"),h=e("7jv/"),m=e("JsB9"),_=e("44rI"),g=e("MXbC"),v=e("O7jx"),y=e("bujt"),w=e("v9Dh"),k=e("eDkP"),A=e("qAlS"),O=e("dWZg"),j=e("lLAP"),R=e("Fzqc"),P=e("UodH"),U=e("wFw1"),D=e("Mr+X"),x=e("SMsm"),C=e("jTJ4"),M=e("gIcY"),S=e("c714"),E=e("wm4d"),L=e("g/GL"),N=e("iLfO"),B=e("ZYCi"),I=e("A7o+"),T=e("Ip0R"),X=e("+dGY"),G=e("sA4U"),W=e("2WpN"),z=e("uqu0"),F=e("giEZ"),q=e("RusP"),H=e("GgTk"),Y=e("Rf/f"),J=e("D8hx"),V=function(){function t(t,n,e,a,o,l,i){var r=this;this._problemRest=t,this._dialog=n,this._loading=e,this._router=a,this._translate=o,this._authentication=l,this._toast=i,this.tableHeight=5,this.selectedRows=[],this.columns=Object(G.f)(Object(G.e)(H.a),this._translate),this.itemActions=Object(G.f)([{tooltip:"Open",icon:"launch",click:function(t){return r.openProblem(t)}}],this._translate),this.selectActions=Object(G.f)([{label:"Delete",icon:"delete",click:function(t){return r.deleteProblems(t)}}],this._translate),this.toolbarButtons=Object(G.f)([{label:"Create Model",icon:"add",click:function(){return r.createProblem()}},{label:"Import Model",icon:"file_upload",click:function(){return r.importProblem()}},{label:"Refresh",icon:"refresh",click:function(){return r.load(!0)}}],this._translate)}return t.prototype.onResize=function(t){void 0===t&&(t=void 0),this.tableHeight=window.innerHeight-105},t.prototype.ngOnInit=function(){this.onResize(),this.load(!0)},t.prototype.load=function(t){var n=this;void 0===t&&(t=!1),this._loading.register("vrp-dashboard.load"),this._problemRest.getAbstractProblem(t).pipe(Object(W.a)(function(){return n._loading.resolve("vrp-dashboard.load")})).subscribe(function(t){return n.data=t},function(t){n._router.navigate(["login"]),n._dialog.errorResponse(t)})},t.prototype.openProblem=function(t){this._router.navigate(["cvrp","problem-detail",t._id],{queryParams:{viewMode:"table",tableName:"vehicles"}})},t.prototype.createProblem=function(){var t=this;this._dialog.openDynamicEdit(Object(G.f)(H.f,this._translate),{},"Create model").subscribe(function(n){n&&t._createProblem(n)})},t.prototype.deleteProblems=function(t){var n=this;this._dialog.confirm("DASHBOARD.DELETE_CONFIRM_MSG").subscribe(function(e){e&&n._problemRest.delete(t.map(function(t){return t._id})).subscribe(function(e){n.data=n.data.filter(function(n){return-1===t.indexOf(n)}),n._toast.shortAlert("Delete succesfully")},function(t){return n._dialog.errorResponse(t)})})},t.prototype.importProblem=function(){var t=this;this._dialog.openFileDialog({accept:".json",type:"text"},function(n,e){try{t._createProblem(JSON.parse(n))}catch(n){t._dialog.error("INVALID_FILE_FORMAT_ERR")}})},t.prototype._createProblem=function(t){var n=this,e=new z.a;Object.assign(e,t),e.username=[this._authentication.getUserName()],console.debug("newProblem",e),this._problemRest.create(e).subscribe(function(t){n._dialog.confirm("DASHBOARD.OPEN_AFTER_CREATED_CONFIRM_MSG").subscribe(function(e){e?n._router.navigate(["cvrp","problem-detail",t._id],{queryParams:{viewMode:"table",tableName:"vehicles"}}):n.load(!0)})},function(t){return n._dialog.errorResponse(t)})},t}(),Z=a.Va({encapsulation:0,styles:[[""]],data:{}});function K(t){return a.rb(0,[(t()(),a.Xa(0,16777216,null,null,5,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,n,e){var o=!0;return"longpress"===n&&(o=!1!==a.hb(t,1).show()&&o),"keydown"===n&&(o=!1!==a.hb(t,1)._handleKeydown(e)&&o),"touchend"===n&&(o=!1!==a.hb(t,1)._handleTouchend()&&o),"click"===n&&(o=!1!==t.context.$implicit.click()&&o),o},y.d,y.b)),a.Wa(1,147456,null,0,w.d,[k.c,a.l,A.c,a.U,a.C,O.a,j.c,j.h,w.b,[2,R.c],[2,w.a]],{message:[0,"message"]},null),a.Wa(2,180224,null,0,P.b,[a.l,O.a,j.h,[2,U.a]],null,null),(t()(),a.Xa(3,0,null,0,2,"mat-icon",[["class","md-24 mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,D.b,D.a)),a.Wa(4,638976,null,0,x.a,[a.l,x.c,[8,null]],null,null),(t()(),a.pb(5,0,["",""])),(t()(),a.Oa(0,null,null,0))],function(t,n){t(n,1,0,n.context.$implicit.label),t(n,4,0)},function(t,n){t(n,0,0,a.hb(n,2).disabled||null,"NoopAnimations"===a.hb(n,2)._animationMode),t(n,3,0,a.hb(n,4).inline),t(n,5,0,n.context.$implicit.icon)})}function Q(t){return a.rb(0,[(t()(),a.Xa(0,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),a.Xa(1,0,null,null,2,"vrp-table",[["id","tableDashboard"],["sortBy","modified_date"]],null,null,null,C.b,C.a)),a.mb(5120,null,M.p,function(t){return[t]},[S.a]),a.Wa(3,573440,null,0,S.a,[E.a],{id:[0,"id"],columns:[1,"columns"],data:[2,"data"],selectActions:[3,"selectActions"],itemActions:[4,"itemActions"],sortBy:[5,"sortBy"],tableHeight:[6,"tableHeight"]},null)],function(t,n){var e=n.component;t(n,3,0,"tableDashboard",e.columns,e.data,e.selectActions,e.itemActions,"modified_date",e.tableHeight)},null)}function $(t){return a.rb(0,[(t()(),a.Xa(0,0,null,null,14,"td-layout-nav",[],null,null,null,L.f,L.b)),a.Wa(1,49152,null,0,N.f,[[2,B.o]],{toolbarTitle:[0,"toolbarTitle"]},null),a.jb(131072,I.j,[I.k,a.i]),(t()(),a.Xa(3,0,null,0,5,"button",[["mat-icon-button",""],["td-menu-button",""],["tdLayoutToggle",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,n,e){var o=!0;return"click"===n&&(o=!1!==a.hb(t,5).clickListener(e)&&o),o},y.d,y.b)),a.Wa(4,180224,null,0,P.b,[a.l,O.a,j.h,[2,U.a]],null,null),a.Wa(5,4341760,null,0,N.i,[N.c,a.I,a.l],{tdLayoutToggle:[0,"tdLayoutToggle"]},null),(t()(),a.Xa(6,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,D.b,D.a)),a.Wa(7,638976,null,0,x.a,[a.l,x.c,[8,null]],null,null),(t()(),a.pb(-1,0,["menu"])),(t()(),a.Xa(9,0,null,1,3,"div",[["flex",""],["layout","row"],["layout-align","center center"],["td-toolbar-content",""]],null,null,null,null,null)),(t()(),a.Xa(10,0,null,null,0,"span",[["flex",""]],null,null,null,null,null)),(t()(),a.Oa(16777216,null,null,1,null,K)),a.Wa(12,278528,null,0,T.l,[a.U,a.R,a.v],{ngForOf:[0,"ngForOf"]},null),(t()(),a.Oa(16777216,null,2,1,null,Q)),a.Wa(14,212992,null,0,X.g,[a.U,a.R,X.i],{name:[0,"name"],type:[1,"type"],mode:[2,"mode"],strategy:[3,"strategy"],color:[4,"color"]},null)],function(t,n){var e=n.component;t(n,1,0,a.qb(n,1,0,a.hb(n,2).transform("Dashboard"))),t(n,5,0,""),t(n,7,0),t(n,12,0,e.toolbarButtons),t(n,14,0,"vrp-dashboard.load","circle","indeterminate","overlay","accent")},function(t,n){t(n,3,0,a.hb(n,4).disabled||null,"NoopAnimations"===a.hb(n,4)._animationMode),t(n,6,0,a.hb(n,7).inline)})}var tt=a.Ta("vrp-dashboard",V,function(t){return a.rb(0,[(t()(),a.Xa(0,0,null,null,1,"vrp-dashboard",[],null,[["window","resize"]],function(t,n,e){var o=!0;return"window:resize"===n&&(o=!1!==a.hb(t,1).onResize(e)&&o),o},$,Z)),a.Wa(1,114688,null,0,V,[q.a,F.a,X.i,B.o,I.k,Y.a,J.a],null,null)],function(t,n){t(n,1,0)},null)},{},{},[]),nt=e("M2Lx"),et=e("Wf4p"),at=e("mVsa"),ot=e("uGex"),lt=e("4epT"),it=e("ZYjt"),rt=e("o3x0"),ut=e("jQLj"),bt=e("wmQ5"),ct=e("4tE/"),ft=e("GW0G"),st=e("r8Is"),dt=e("t/Na"),pt=e("+gH2"),ht=e("vARd"),mt=e("SN/6"),_t=e("YXNw"),gt=e("lf6A"),vt=e("/VYK"),yt=e("seP3"),wt=e("b716"),kt=e("YhbO"),At=e("4c35"),Ot=e("jlZm"),jt=e("FVSy"),Rt=e("LC5p"),Pt=e("0/Q6"),Ut=e("de3e"),Dt=e("kWGw"),xt=e("Z+uX"),Ct=e("Blfk"),Mt=e("8mMr"),St=e("Lwpp"),Et=e("La40"),Lt=e("Nsh5"),Nt=e("r43C"),Bt=e("hjRe"),It=e("uK2o"),Tt=e("bo59"),Xt=e("6q6f"),Gt=e("rxZL"),Wt=e("Ps+U"),zt=e("GSLX"),Ft=e("6w6d"),qt=e("m5n6"),Ht=e("hIJP"),Yt=e("zrK0"),Jt=e("36nB"),Vt=e("qkDU"),Zt=e("x0yz"),Kt=e("gUJA"),Qt=function(){};e.d(n,"VrpDashboardModuleNgFactory",function(){return $t});var $t=a.Ua(o,[],function(t){return a.eb([a.fb(512,a.k,a.Ha,[[8,[l.c,i.a,r.a,u.a,u.b,b.b,b.a,c.a,f.a,s.a,d.a,p.a,h.a,m.a,_.a,g.a,v.a,tt]],[3,a.k],a.A]),a.fb(4608,T.o,T.n,[a.x,[2,T.C]]),a.fb(4608,M.C,M.C,[]),a.fb(4608,M.f,M.f,[]),a.fb(4608,nt.c,nt.c,[]),a.fb(4608,et.d,et.d,[]),a.fb(4608,k.c,k.c,[k.i,k.e,a.k,k.h,k.f,a.t,a.C,T.d,R.c]),a.fb(5120,k.j,k.k,[k.c]),a.fb(5120,w.b,w.c,[k.c]),a.fb(5120,at.b,at.g,[k.c]),a.fb(5120,ot.a,ot.b,[k.c]),a.fb(5120,lt.b,lt.a,[[3,lt.b]]),a.fb(4608,it.f,et.e,[[2,et.i],[2,et.n]]),a.fb(5120,rt.c,rt.d,[k.c]),a.fb(4608,rt.e,rt.e,[k.c,a.t,[2,T.i],[2,rt.b],rt.c,[3,rt.e],k.e]),a.fb(4608,et.c,et.A,[[2,et.h],O.a]),a.fb(4608,ut.i,ut.i,[]),a.fb(5120,ut.a,ut.b,[k.c]),a.fb(4608,bt.f,bt.f,[]),a.fb(5120,ct.b,ct.c,[k.c]),a.fb(5120,X.h,X.b,[[3,X.h],a.k,k.c,a.t]),a.fb(5120,X.i,X.c,[[3,X.i],X.h]),a.fb(5120,ft.h,ft.b,[[3,ft.h]]),a.fb(4608,st.e,st.e,[B.o]),a.fb(4608,st.f,st.f,[]),a.fb(4608,dt.j,dt.p,[T.d,a.E,dt.n]),a.fb(4608,dt.q,dt.q,[dt.j,dt.o]),a.fb(5120,dt.a,function(t){return[t]},[dt.q]),a.fb(4608,dt.m,dt.m,[]),a.fb(6144,dt.k,null,[dt.m]),a.fb(4608,dt.i,dt.i,[dt.k]),a.fb(6144,dt.b,null,[dt.i]),a.fb(4608,dt.g,dt.l,[dt.b,a.t]),a.fb(4608,dt.c,dt.c,[dt.g]),a.fb(4608,pt.a,pt.a,[dt.c,"MAP_BASE_URL"]),a.fb(4608,E.a,E.a,[rt.e,ht.b,I.k]),a.fb(1073742336,T.c,T.c,[]),a.fb(1073742336,M.z,M.z,[]),a.fb(1073742336,M.l,M.l,[]),a.fb(1073742336,M.w,M.w,[]),a.fb(1073742336,I.h,I.h,[]),a.fb(1073742336,mt.a,mt.a,[]),a.fb(1073742336,_t.a,_t.a,[]),a.fb(1073742336,mt.g,mt.g,[]),a.fb(1073742336,gt.b,gt.b,[]),a.fb(1073742336,mt.j,mt.j,[]),a.fb(1073742336,mt.c,mt.c,[]),a.fb(1073742336,mt.f,mt.f,[]),a.fb(1073742336,O.b,O.b,[]),a.fb(1073742336,vt.c,vt.c,[]),a.fb(1073742336,nt.d,nt.d,[]),a.fb(1073742336,yt.e,yt.e,[]),a.fb(1073742336,wt.c,wt.c,[]),a.fb(1073742336,kt.c,kt.c,[]),a.fb(1073742336,At.g,At.g,[]),a.fb(1073742336,Ot.b,Ot.b,[]),a.fb(1073742336,R.a,R.a,[]),a.fb(1073742336,et.n,et.n,[[2,et.f]]),a.fb(1073742336,jt.d,jt.d,[]),a.fb(1073742336,et.p,et.p,[]),a.fb(1073742336,et.z,et.z,[]),a.fb(1073742336,et.x,et.x,[]),a.fb(1073742336,Rt.b,Rt.b,[]),a.fb(1073742336,Pt.e,Pt.e,[]),a.fb(1073742336,x.b,x.b,[]),a.fb(1073742336,j.a,j.a,[]),a.fb(1073742336,A.b,A.b,[]),a.fb(1073742336,k.g,k.g,[]),a.fb(1073742336,w.e,w.e,[]),a.fb(1073742336,P.c,P.c,[]),a.fb(1073742336,at.e,at.e,[]),a.fb(1073742336,et.u,et.u,[]),a.fb(1073742336,ot.d,ot.d,[]),a.fb(1073742336,lt.c,lt.c,[]),a.fb(1073742336,Ut.c,Ut.c,[]),a.fb(1073742336,Dt.c,Dt.c,[]),a.fb(1073742336,rt.k,rt.k,[]),a.fb(1073742336,xt.c,xt.c,[]),a.fb(1073742336,Ct.c,Ct.c,[]),a.fb(1073742336,ht.e,ht.e,[]),a.fb(1073742336,et.B,et.B,[]),a.fb(1073742336,et.r,et.r,[]),a.fb(1073742336,ut.j,ut.j,[]),a.fb(1073742336,Mt.b,Mt.b,[]),a.fb(1073742336,St.d,St.d,[]),a.fb(1073742336,bt.g,bt.g,[]),a.fb(1073742336,Et.a,Et.a,[]),a.fb(1073742336,Lt.h,Lt.h,[]),a.fb(1073742336,ct.e,ct.e,[]),a.fb(1073742336,Nt.a,Nt.a,[]),a.fb(1073742336,X.a,X.a,[]),a.fb(1073742336,N.a,N.a,[]),a.fb(1073742336,Bt.a,Bt.a,[]),a.fb(1073742336,It.a,It.a,[]),a.fb(1073742336,Tt.a,Tt.a,[]),a.fb(1073742336,ft.a,ft.a,[]),a.fb(1073742336,st.a,st.a,[]),a.fb(1073742336,Xt.a,Xt.a,[]),a.fb(1073742336,dt.e,dt.e,[]),a.fb(1073742336,dt.d,dt.d,[]),a.fb(1073742336,Gt.a,Gt.a,[]),a.fb(1073742336,Wt.a,Wt.a,[]),a.fb(1073742336,zt.a,zt.a,[]),a.fb(1073742336,B.r,B.r,[[2,B.y],[2,B.o]]),a.fb(1073742336,Ft.a,Ft.a,[]),a.fb(1073742336,qt.a,qt.a,[]),a.fb(1073742336,Ht.a,Ht.a,[]),a.fb(1073742336,Yt.a,Yt.a,[]),a.fb(1073742336,Jt.b,Jt.b,[]),a.fb(1073742336,Vt.a,Vt.a,[]),a.fb(1073742336,Zt.a,Zt.a,[]),a.fb(1073742336,Kt.a,Kt.a,[]),a.fb(1073742336,Qt,Qt,[]),a.fb(1073742336,o,o,[]),a.fb(256,et.g,et.k,[]),a.fb(256,dt.n,"XSRF-TOKEN",[]),a.fb(256,dt.o,"X-XSRF-TOKEN",[]),a.fb(1024,B.m,function(){return[[{path:"",component:V}]]},[])])})},D8hx:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var a=e("CcnG"),o=e("vARd"),l=e("A7o+"),i=function(){function t(t,n){this._snackBarService=t,this._translate=n}return t.prototype.shortAlert=function(t,n){void 0===n&&(n=void 0);var e=this._t(t),a=3e3;n&&n.error&&(a=5e3,e="\u274c "+(n.error instanceof Array?n.error[0]:n.error)),this._snackBarService.open(e,"Dismiss",{panelClass:["text-break"],duration:a})},t.prototype._t=function(t){return t?this._translate.instant(t):t},t.ngInjectableDef=a.Y({factory:function(){return new t(a.Ca(o.b),a.Ca(l.k))},token:t,providedIn:"root"}),t}()},RusP:function(t,n,e){"use strict";e.d(n,"a",function(){return u});var a=e("sA4U"),o=e("67Y/"),l=e("uqu0"),i=e("CcnG"),r=e("t/Na"),u=function(){function t(t,n){this._http=t,this._baseUrl=n,a.b.http=this._http}return t.prototype.get=function(t,n){return void 0===n&&(n=!1),a.b.get(this._baseUrl+"/v2/p-"+t,n).pipe(Object(o.a)(function(t){return new l.a(t)}))},t.prototype.update=function(t,n){return this._http.patch(this._baseUrl+"/v2/"+t+"/update",{update:n}).pipe(Object(o.a)(function(t){return new l.a(t)}))},t.prototype.updateField=function(t,n,e){return this._http.post(this._baseUrl+"/v2/"+t+"/"+n,e).pipe(Object(o.a)(function(t){return new l.a(t)}))},t.prototype.create=function(t){return this._http.post(this._baseUrl+"/v2/",t).pipe(Object(o.a)(function(t){return new l.a(t)}))},t.prototype.delete=function(t){return this._http.post(this._baseUrl+"/v2/destroy",{ids:t})},t.prototype.getAbstractProblem=function(t){return void 0===t&&(t=!1),a.b.get(this._baseUrl+"/v2/abstract",t)},t.prototype.geocode=function(t,n,e,a){void 0===n&&(n="onemap"),void 0===e&&(e="user,gmap,bdmap"),void 0===a&&(a=!0);var i=this._baseUrl+"/v2/geocode/"+t+"?service="+n+"&alternativeServices="+e+"&saveToDb="+a;return console.log("VrpProblemRestService -> url",i),this._http.post(i,{}).pipe(Object(o.a)(function(t){return new l.a(t)}))},t.prototype.queryDistanceMatrix=function(t){return this._http.get(this._baseUrl+"/v2/distanceMatrix/"+t)},t.prototype.optimize=function(t,n){return this._http.post(this._baseUrl+"/v2/optimize/"+t,n)},t.prototype.deleteItems=function(t,n,e){var a,i=((a={})[""+n]={id:{$in:e}},a);return this._http.patch(this._baseUrl+"/v2/"+t+"/remove",{update:i}).pipe(Object(o.a)(function(t){return new l.a(t)}))},t.prototype.updateItem=function(t,n,e,a){var i,r,u=((i={})[n+".id"]=e,i),b=((r={})[n+".$"]=a,r);return this._http.patch(this._baseUrl+"/v2/"+t+"/update",{query:u,update:b}).pipe(Object(o.a)(function(t){return new l.a(t)}))},t.ngInjectableDef=i.Y({factory:function(){return new t(i.Ca(r.c),i.Ca("PROBLEM_REST_BASE_URL"))},token:t,providedIn:"root"}),t}()},gUJA:function(t,n,e){"use strict";e.d(n,"a",function(){return a});var a=function(){}},giEZ:function(t,n,e){"use strict";e.d(n,"a",function(){return o});var a=e("mrSG"),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(n,t),n}(e("S0mB").a)}}]);