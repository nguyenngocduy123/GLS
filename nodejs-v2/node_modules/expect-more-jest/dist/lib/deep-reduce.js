"use strict";
exports.__esModule = true;
var expect_more_1 = require("expect-more");
exports.deepReduce = function (collection, fn, memo) {
    var iterator = function (value, path) {
        memo = fn(memo, path, value);
        if (expect_more_1.isArray(value)) {
            for (var i = 0, len = value.length; i < len; i++) {
                iterator(value[i], path.concat(i));
            }
        }
        else if (expect_more_1.isObject(value)) {
            for (var key in value) {
                if (value.hasOwnProperty(key)) {
                    iterator(value[key], path.concat(key));
                }
            }
        }
        return memo;
    };
    return iterator(collection, []);
};
